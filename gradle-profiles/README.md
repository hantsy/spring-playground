# AWS DynamoDB POC



This POC codebase is generated by [Spring Initialzr](https://start.spring.io),  and demos the following stack:

* Spring Boot 2.2.2.RELEASE
* Lombok
* Spring Data DynamoDB 
* Testing with Spring Boot Test(Spring Test,  Mockito, etc), Webflux `WebTestClient`.

##  Run DynamoDB locally

There is a *docker-compose.yaml* in the project root. Run the following command to start a local DynamoDB  instance in the development stage.

```bash
docker-compose up
```

## Run the application

Run the following command to start the application.

```bash
./gradlw bootRun
```

Or run the `Application` class in IDEs like running a general Java application.

>Before running  your application, make sure there is a running DynamoDB, see [ Run DynamoDB locally](#Run-DynamoDB-locally)

## Run tests

Run the following command to run the application.

```bash
./gradlew test

```
Or run tests in your IDE directly.

## Configuring for prod environment

Change the AWS `accessKey` and `secretKey` in the `application.yaml` file.

```yaml
---
spring:
  profiles: prod

amazon:
  dynamodb:
    endpoint: #empty endpoint in prod
  aws:
    accessKey: abc #change AWS accessKey
    secretKey: efg #change AWS secretKey
```

Or set up environment variables in your prod environment to override these properties.




